"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[997],{4997:function(e,t,n){n.r(t),n.d(t,{default:function(){return z}});var a="Section_sectionHead__RIQNp",r=n(2791),s=n(184),c=function(e){var t=e.title,n=e.children,r=a;return(0,s.jsxs)("section",{children:[(0,s.jsx)("h2",{className:r,children:t}),n]})},i=n(5861),o=n(885),l=n(7757),u=n.n(l),d="ContactForm_contactForm__y0Rca",m="ContactForm_contactForm__field__+cOPR",h="ContactForm_contactLabel__vt5it",_="ContactForm_contactInput__z6XOX",p="Button_button__wiIYs",f=function(e){var t=e.type,n=e.title,a=e.onClick,r=p;return(0,s.jsx)("button",{className:r,onClick:a,type:t,children:n})},x=n(8584),j=function(){var e=d,t=m,n=h,a=_,r=(0,x.wY)().data,c=void 0===r?[]:r,l=(0,x.Tn)(),p=(0,o.Z)(l,2),j=p[0],b=p[1].isLoading,v=function(){var e=(0,i.Z)(u().mark((function e(t){var n,a,r,s,i,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=t.target,a=n.name.value,r=n.number.value,!c.some((function(e){return e.name===a}))){e.next=7;break}return alert("".concat(a," is already in contacts")),e.abrupt("return");case 7:if(!c.some((function(e){return e.phone===r}))){e.next=11;break}return s=c.filter((function(e){return e.phone===r})),i=(0,o.Z)(s,1),l=i[0],alert("".concat(r," is already in contact with ").concat(l.name," ")),e.abrupt("return");case 11:return e.prev=11,e.next=14,j({name:a,phone:r});case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(11),alert("Failed to save the contact");case 19:n.reset();case 20:case"end":return e.stop()}}),e,null,[[11,16]])})));return function(t){return e.apply(this,arguments)}}();return(0,s.jsxs)("form",{className:e,onSubmit:v,children:[(0,s.jsxs)("div",{className:t,children:[(0,s.jsx)("label",{htmlFor:"contactName",className:n,children:"Name"}),(0,s.jsx)("input",{className:a,id:"contactName",type:"text",name:"name",placeholder:"Enter name...",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]}),(0,s.jsxs)("div",{className:t,children:[(0,s.jsx)("label",{htmlFor:"contactTel",className:n,children:"Phone number"}),(0,s.jsx)("input",{className:a,id:"contactTel",type:"tel",name:"number",placeholder:"Enter number...",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),(0,s.jsx)(f,{type:"submit",title:b?"ADDING...":"ADD CONTACT"})]})},b="ContactList_contactList__wrapper__2bWuN",v="ContactList_contactList__text__mjpGs",N="ContactList_contactList__button__6ARfg",g="Notification_notif__msg__Bv6Zf",C=function(e){var t=e.message,n=g;return(0,s.jsx)("p",{className:n,children:t})},F=n(5048),y=n(5984),k=n(8402),w="Loader_item__iys6Z",L=function(){var e=w;return(0,s.jsx)("div",{className:e,children:(0,s.jsx)(k.B7,{visible:!0,height:"150",width:"150",ariaLabel:"rotating-triangle-loading",wrapperStyle:{},wrapperClass:"",colors:["#1B5299","#EF8354","#DB5461"]})})},A=function(){var e,t=b,n=v,a=N,c=(0,x.wY)(),i=c.data,l=void 0===i?[]:i,u=c.isLoading,d=c.isSuccess,m=c.isError,h=c.error,_=(0,F.v9)((function(e){return e.filter})),p=(0,x.Nt)(),f=(0,o.Z)(p,1)[0],j=(0,r.useMemo)((function(){return l.filter((function(e){return e.name.toLowerCase().includes(_)}))}),[l,_]);return u?e=(0,s.jsx)(L,{}):d?e=0!==j.length?(0,s.jsx)("ul",{className:t,children:j.map((function(e){return(0,s.jsxs)("li",{className:n,children:[(0,s.jsx)("span",{children:"".concat(e.name,":\n               ").concat(e.phone)}),(0,s.jsx)("button",{type:"button",className:a,onClick:function(){return f({id:e.id})},children:"Delete"})]},(0,y.x0)())}))}):(0,s.jsx)(C,{message:"Your phonebook is empty"}):m&&(e=(0,s.jsx)(C,{message:h})),(0,s.jsx)(s.Fragment,{children:e})},Z="Filter_filterField__hjFfe",D="Filter_filterText__QGy-k",T="Filter_filterInput__1Cysk",B=n(1509),I=function(){var e=Z,t=D,n=T,a=(0,F.I0)();return(0,s.jsxs)("div",{className:e,children:[(0,s.jsx)("p",{className:t,children:"Find contact by name"}),(0,s.jsx)("input",{className:n,type:"text",onChange:function(e){var t=e.target.value.toLowerCase();a((0,B.T)(t))},placeholder:"Enter name..."})]})},z=function(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c,{title:"Phonebook",children:(0,s.jsx)(j,{})}),(0,s.jsx)(c,{title:"Contacts",children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(I,{}),(0,s.jsx)(A,{})]})})]})}}}]);
//# sourceMappingURL=997.9a9dac57.chunk.js.map