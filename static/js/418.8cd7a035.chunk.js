"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[418],{4418:function(t,e,n){n.r(e),n.d(e,{default:function(){return P}});var a=n(2791),r=n(9434),c="Section_sectionHead__RIQNp",s=n(3329),o=function(t){var e=t.title,n=t.children,a=c;return(0,s.jsxs)("section",{children:[(0,s.jsx)("h2",{className:a,children:e}),n]})},i=n(885),u=n(5861),l=n(7757),m=n.n(l),d="ContactForm_contactForm__y0Rca",_="ContactForm_contactForm__field__+cOPR",h="ContactForm_contactLabel__vt5it",f="ContactForm_contactInput__z6XOX",p="Button_button__wiIYs",x=function(t){var e=t.type,n=t.title,a=t.onClick,r=p;return(0,s.jsx)("button",{className:r,onClick:a,type:e,children:n})},b=function(t){return t.contacts.items},j=function(t){return t.contacts.isLoading},v=function(t){return t.contacts.filter},N=n(6052),F=function(){var t=d,e=_,n=h,a=f,c=(0,r.I0)(),o=(0,r.v9)(b),l=function(){var t=(0,u.Z)(m().mark((function t(e){var n,a,r,s,u,l;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),n=e.target,a=n.name.value,r=n.number.value,!o.some((function(t){return t.name===a}))){t.next=7;break}return alert("".concat(a," is already in contacts")),t.abrupt("return");case 7:if(!o.some((function(t){return t.number===r}))){t.next=11;break}return s=o.filter((function(t){return t.number===r})),u=(0,i.Z)(s,1),l=u[0],alert("".concat(r," is already in contact with ").concat(l.name," ")),t.abrupt("return");case 11:return t.prev=11,t.next=14,c((0,N.uK)({name:a,number:r}));case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(11),alert("Failed to save the contact");case 19:n.reset();case 20:case"end":return t.stop()}}),t,null,[[11,16]])})));return function(e){return t.apply(this,arguments)}}();return(0,s.jsxs)("form",{className:t,onSubmit:l,children:[(0,s.jsxs)("div",{className:e,children:[(0,s.jsx)("label",{htmlFor:"contactName",className:n,children:"Name"}),(0,s.jsx)("input",{className:a,id:"contactName",type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]}),(0,s.jsxs)("div",{className:e,children:[(0,s.jsx)("label",{htmlFor:"contactTel",className:n,children:"Phone number"}),(0,s.jsx)("input",{className:a,id:"contactTel",type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),(0,s.jsx)(x,{type:"submit",title:"Add contact"})]})},y="ContactList_contactList__wrapper__2bWuN",C="ContactList_contactList__text__mjpGs",k="ContactList_contactList__button__6ARfg",g="Notification_notif__msg__Bv6Zf",w=function(t){var e=t.message,n=g;return(0,s.jsx)("p",{className:n,children:e})},L=n(5984),I=n(3853),Z=n(7214),A=function(){var t=y,e=C,n=k,c=(0,r.I0)(),o=(0,r.v9)(b),i=(0,r.v9)(j),u=(0,r.v9)(v),l=(0,a.useMemo)((function(){return o.filter((function(t){return t.name.toLowerCase().includes(u)}))}),[o,u]);return(0,s.jsx)(s.Fragment,{children:i?(0,s.jsx)(Z.Z,{}):0!==l.length?(0,s.jsx)("ul",{className:t,children:l.map((function(t){return(0,s.jsxs)("li",{className:e,children:[(0,s.jsx)("span",{children:"".concat(t.name,":\n               ").concat(t.number)}),(0,s.jsx)("button",{type:"button",className:n,onClick:function(){return c((0,N.GK)(t.id))},children:(0,s.jsx)(I.hT1,{})})]},(0,L.x0)())}))}):(0,s.jsx)(w,{message:"Your phonebook is empty"})})},z="Filter_filterField__hjFfe",R="Filter_filterText__QGy-k",T="Filter_filterInput__1Cysk",B=n(1538),G=function(){var t=z,e=R,n=T,a=(0,r.I0)();return(0,s.jsxs)("div",{className:t,children:[(0,s.jsx)("p",{className:e,children:"Find contact by name"}),(0,s.jsx)("input",{className:n,type:"text",onChange:function(t){var e=t.target.value.toLowerCase();a((0,B.xO)(e))}})]})},O=n(6340),P=function(){var t=(0,r.I0)(),e=(0,r.v9)(j),n=(0,O.a)().user;return(0,a.useEffect)((function(){t((0,N.yF)())}),[t]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o,{title:"Welcome ".concat(n.name," in your phonebook"),children:(0,s.jsx)(F,{})}),(0,s.jsx)(o,{title:"Your contacts",children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(G,{}),e?(0,s.jsx)(Z.Z,{}):(0,s.jsx)(A,{})]})})]})}}}]);
//# sourceMappingURL=418.8cd7a035.chunk.js.map